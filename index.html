<!DOCTYPE html>
<html>
<head>
  <title>External App with Embedded LWC</title>
</head>
<body>
  <div id="app-container"></div>

  <script src="https://warranty2amartfurniture--amartuat.sandbox.lightning.force.com/lightning/lightning-out.js"></script>
  <script>
    // Get frontdoor URL from UI Bridge API
    // This assumes you have a valid Salesforce session
    async function initLightningOut() {
      const frontdoorUrl = await getFrontdoorUrl(); // Your auth logic here
      
      const lightningOutApp = document.createElement('lightning-out-application');
      lightningOutApp.setAttribute('frontdoor-url', frontdoorUrl);
      lightningOutApp.setAttribute('components', 'pos-actions-host-lwc');
      
      lightningOutApp.addEventListener('lo.application.ready', () => {
        console.log('Salesforce session established');
      });
      
      lightningOutApp.addEventListener('lo.application.error', (e) => {
        console.error('Authentication failed:', e.detail.message);
      });
      
      document.getElementById('app-container').appendChild(lightningOutApp);
    }

    initLightningOut();
  </script>
</body>
</html>
